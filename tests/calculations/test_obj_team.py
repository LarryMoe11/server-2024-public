#!/usr/bin/env python3
import pytest
from unittest.mock import patch
from calculations import obj_team
from server import Server
from utils import dict_near_in, find_dict_near_index


@pytest.mark.clouddb
class TestOBJTeamCalc:
    def setup_method(self, method):
        with patch("server.Server.ask_calc_all_data", return_value=False):
            self.test_server = Server()
        self.test_calc = obj_team.OBJTeamCalc(self.test_server)

    def test___init__(self):
        """Test if attributes are set correctly"""
        assert self.test_calc.watched_collections == ["obj_tim", "subj_tim"]
        assert self.test_calc.server == self.test_server

    def test_averages(self):
        """Tests calculate_averages function from src/calculations/obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "auto_speaker": 2,
                "auto_amp": 1,
                "auto_total_intakes": 2,
                "auto_total_pieces": 3,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 1,
                "tele_speaker": 5,
                "tele_amplified": 5,
                "tele_amp": 2,
                "tele_intakes_amp": 0,
                "tele_intakes_center": 0,
                "tele_intakes_far": 0,
                "tele_intakes_poach": 0,
                "tele_ferry": 15,
                "tele_drop": 1,
                "tele_total_intakes": 2,
                "tele_total_pieces": 1,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 6,
                "tele_total_failed_pieces": 1,
                "endgame_total_points": 1,
                "incap_time": 4,
                "expected_speaker_cycle_time": 20,
                "expected_amp_cycle_time": 30,
                "expected_cycle_time": 20,
                "fail": 12,
                "total_intakes": 1,
                "total_pieces": 3,
                "auto_total_points": 5,
                "tele_total_points": 6,
                "total_points": 1,
                "dropped_pieces": 0,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_speaker_cycles": 20,
                "expected_amp_cycles": 30,
                "expected_cycles": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "expected_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "tele_total_speaker_notes": 0.0,
                "auto_ferry": 0,
            },
            {
                "match_number": 2,
                "auto_speaker": 4,
                "auto_amp": 0,
                "auto_total_intakes": 11,
                "auto_total_pieces": 0,
                "auto_failed_speaker": 4,
                "auto_failed_amp": 3,
                "auto_total_failed_pieces": 2,
                "tele_speaker": 5,
                "tele_amplified": 6,
                "tele_amp": 3,
                "tele_intakes_amp": 1,
                "tele_intakes_center": 1,
                "tele_intakes_far": 1,
                "tele_intakes_poach": 1,
                "tele_ferry": 16,
                "tele_drop": 1,
                "tele_total_intakes": 3,
                "tele_total_pieces": 2,
                "tele_failed_speaker": 5,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 5,
                "tele_total_failed_pieces": 2,
                "endgame_total_points": 1,
                "expected_cycle_time": 20,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 20,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 20,
                "expected_cycles": 20,
                "incap_time": 5,
                "fail": 13,
                "total_intakes": 2,
                "total_pieces": 4,
                "auto_total_points": 5,
                "tele_total_points": 7,
                "total_points": 1,
                "dropped_pieces": 0,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "expected_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "tele_total_speaker_notes": 0.0,
                "auto_ferry": 0,
            },
            {
                "match_number": 3,
                "auto_speaker": 5,
                "auto_amp": 1,
                "auto_total_intakes": 12,
                "auto_total_pieces": 1,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 0,
                "tele_speaker": 6,
                "tele_amplified": 7,
                "tele_amp": 4,
                "tele_intakes_amp": 2,
                "tele_intakes_center": 2,
                "tele_intakes_far": 2,
                "tele_intakes_poach": 2,
                "tele_ferry": 17,
                "tele_drop": 1,
                "tele_total_intakes": 4,
                "tele_total_pieces": 3,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 5,
                "tele_failed_amplified": 4,
                "tele_total_failed_pieces": 1,
                "endgame_total_points": 1,
                "expected_cycle_time": 20,
                "expected_speaker_cycle_time": 25,
                "expected_amp_cycle_time": 25,
                "expected_speaker_cycles": 25,
                "expected_amp_cycles": 25,
                "expected_cycles": 20,
                "incap_time": 6,
                "fail": 14,
                "total_intakes": 3,
                "total_pieces": 5,
                "auto_total_points": 5,
                "tele_total_points": 6,
                "total_points": 1,
                "dropped_pieces": 0,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "expected_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "tele_total_speaker_notes": 0.0,
                "auto_ferry": 0,
            },
            {
                "match_number": 4,
                "auto_speaker": 6,
                "auto_amp": 2,
                "auto_total_intakes": 13,
                "auto_total_pieces": 2,
                "auto_failed_speaker": 5,
                "auto_failed_amp": 1,
                "auto_total_failed_pieces": 0,
                "tele_speaker": 7,
                "tele_amplified": 8,
                "tele_amp": 5,
                "tele_intakes_amp": 3,
                "tele_intakes_center": 3,
                "tele_intakes_far": 3,
                "tele_intakes_poach": 3,
                "tele_ferry": 18,
                "tele_drop": 1,
                "tele_total_intakes": 5,
                "tele_total_pieces": 4,
                "tele_failed_speaker": 7,
                "tele_failed_amp": 3,
                "tele_failed_amplified": 3,
                "tele_total_failed_pieces": 2,
                "endgame_total_points": 1,
                "expected_cycle_time": 20,
                "expected_speaker_cycle_time": 15,
                "expected_amp_cycle_time": 15,
                "expected_speaker_cycles": 15,
                "expected_amp_cycles": 15,
                "expected_cycles": 20,
                "incap_time": 7,
                "fail": 15,
                "total_intakes": 4,
                "total_pieces": 6,
                "auto_total_points": 5,
                "tele_total_points": 7,
                "total_points": 1,
                "dropped_pieces": 0,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "expected_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "tele_total_speaker_notes": 0.0,
                "auto_ferry": 0,
            },
            {
                "match_number": 5,
                "auto_speaker": 7,
                "auto_amp": 3,
                "auto_total_intakes": 14,
                "auto_total_pieces": 3,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 0,
                "tele_speaker": 8,
                "tele_amplified": 9,
                "tele_amp": 6,
                "tele_intakes_amp": 4,
                "tele_intakes_center": 4,
                "tele_intakes_far": 4,
                "tele_intakes_poach": 4,
                "tele_ferry": 19,
                "tele_drop": 1,
                "tele_total_intakes": 6,
                "tele_total_pieces": 5,
                "tele_failed_speaker": 1,
                "tele_failed_amp": 4,
                "tele_failed_amplified": 2,
                "tele_total_failed_pieces": 1,
                "endgame_total_points": 1,
                "expected_cycle_time": 20,
                "expected_speaker_cycle_time": 10,
                "expected_amp_cycle_time": 10,
                "expected_speaker_cycles": 10,
                "expected_amp_cycles": 10,
                "expected_cycles": 20,
                "incap_time": 8,
                "fail": 16,
                "total_intakes": 5,
                "total_pieces": 7,
                "tele_total_speaker_notes": 0.0,
                "auto_total_points": 5,
                "tele_total_points": 6,
                "total_points": 1,
                "dropped_pieces": 0,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "expected_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
            },
        ]

        expected_output = {
            "auto_avg_speaker": 4.8,
            "auto_avg_amp": 1.4,
            "auto_avg_total_intakes": 10.4,
            "auto_avg_total_pieces": 1.8,
            "auto_avg_total_failed_pieces": 0.6,
            "tele_avg_speaker": 6.2,
            "tele_avg_amplified": 7.0,
            "tele_avg_amp": 4.0,
            "tele_avg_intake_amp": 2.0,
            "tele_avg_intake_center": 2.0,
            "tele_avg_intake_far": 2.0,
            "tele_avg_intake_poach": 2.0,
            "tele_avg_ferry": 17.0,
            "tele_avg_drop": 1.0,
            "tele_avg_total_intakes": 4.0,
            "tele_avg_total_pieces": 3.0,
            "tele_avg_failed_amp": 3.2,
            "tele_avg_failed_speaker": 3.8,
            "tele_avg_failed_amplified": 4.0,
            "tele_avg_total_failed_pieces": 1.4,
            # "endgame_avg_total_points": 1.0,
            "avg_expected_cycle_time": 20.0,
            "avg_expected_speaker_cycle_time": 20.0,
            "avg_expected_amp_cycle_time": 20.0,
            "avg_expected_cycles": 20.0,
            "avg_expected_speaker_cycles": 20.0,
            "avg_expected_amp_cycles": 20.0,
            "avg_expected_notes": 20.0,
            "avg_expected_speaker_notes": 20.0,
            "avg_expected_amp_notes": 30.0,
            "avg_incap_time": 6.0,
            "avg_total_intakes": 3.0,
            "avg_total_pieces": 5.0,
            # "auto_avg_total_points": 5.0,
            # "tele_avg_total_points": 6.4,
            # "avg_total_points": 1.0,
            "auto_avg_failed_amp": 2.0,
            "auto_avg_failed_speaker": 3.6,
            "lfm_auto_avg_speaker": 5.5,
            "lfm_auto_avg_amp": 1.5,
            "lfm_auto_avg_failed_amp": 2.0,
            "lfm_auto_avg_failed_speaker": 3.75,
            "lfm_auto_avg_total_intakes": 12.5,
            "lfm_auto_avg_total_pieces": 1.5,
            "lfm_auto_avg_total_failed_pieces": 0.5,
            "lfm_tele_avg_speaker": 6.5,
            "lfm_tele_avg_amplified": 7.5,
            "lfm_tele_avg_amp": 4.5,
            "lfm_tele_avg_intake_amp": 2.5,
            "lfm_tele_avg_intake_center": 2.5,
            "lfm_tele_avg_intake_far": 2.5,
            "lfm_tele_avg_intake_poach": 2.5,
            "lfm_tele_avg_ferry": 17.5,
            "lfm_tele_avg_drop": 1.0,
            "lfm_tele_avg_total_intakes": 4.5,
            "lfm_tele_avg_total_pieces": 3.5,
            "lfm_tele_avg_failed_amp": 3.5,
            "lfm_tele_avg_failed_speaker": 4.0,
            "lfm_tele_avg_failed_amplified": 3.5,
            "lfm_tele_avg_total_failed_pieces": 1.5,
            "lfm_endgame_avg_total_points": 1.0,
            "lfm_avg_incap_time": 6.5,
            "lfm_avg_expected_cycle_time": 20.0,
            "lfm_avg_expected_speaker_cycle_time": 20.0,
            "lfm_avg_expected_amp_cycle_time": 17.5,
            "lfm_avg_expected_cycles": 20.0,
            "lfm_avg_expected_speaker_cycles": 20.0,
            "lfm_avg_expected_amp_cycles": 17.5,
            "lfm_avg_expected_notes": 20.0,
            "lfm_avg_expected_speaker_notes": 20.0,
            "lfm_avg_expected_amp_notes": 30.0,
            "lfm_avg_total_intakes": 3.5,
            "lfm_avg_total_pieces": 5.5,
            "lfm_auto_avg_total_points": 5.0,
            "lfm_tele_avg_total_points": 6.5,
            "lfm_avg_total_points": 1.0,
            "avg_time_from_amp_to_amp": 0.0,
            "avg_time_from_amp_to_speaker": 0.0,
            "avg_time_from_poach_to_amp": 0.0,
            "avg_time_from_poach_to_speaker": 0.0,
            "avg_time_from_center_to_amp": 0.0,
            "avg_time_from_center_to_speaker": 0.0,
            "avg_time_from_far_to_amp": 0.0,
            "avg_time_from_far_to_speaker": 0.0,
            "lfm_avg_time_from_amp_to_amp": 0.0,
            "lfm_avg_time_from_amp_to_speaker": 0.0,
            "lfm_avg_time_from_poach_to_amp": 0.0,
            "lfm_avg_time_from_poach_to_speaker": 0.0,
            "lfm_avg_time_from_center_to_amp": 0.0,
            "lfm_avg_time_from_center_to_speaker": 0.0,
            "lfm_avg_time_from_far_to_amp": 0.0,
            "lfm_avg_time_from_far_to_speaker": 0.0,
            "lfm_avg_tele_trap": 0.0,
            "lfm_tele_avg_failed_trap": 0.0,
            "tele_avg_trap": 0.0,
            "tele_avg_failed_trap": 0.0,
            "lfm_tele_avg_trap": 0.0,
            "tele_avg_total_speaker_notes": 0.0,
            "lfm_tele_avg_total_speaker_notes": 0.0,
            "lfm_auto_avg_ferry": 0.0,
            "auto_avg_ferry": 0.0,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(lfm_tims)
        assert (
            self.test_calc.calculate_averages(action_counts, lfm_action_counts) == expected_output
        )

    def test_standard_deviations(self):
        """Tests calculate_standard_deviations function from src/calculations/obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "auto_speaker": 2,
                "auto_amp": 1,
                "auto_total_intakes": 2,
                "auto_total_pieces": 3,
                "tele_speaker": 5,
                "tele_amplified": 5,
                "tele_amp": 2,
                "tele_intakes_amp": 0,
                "tele_intakes_center": 0,
                "tele_intakes_far": 0,
                "tele_intakes_poach": 0,
                "tele_ferry": 15,
                "tele_drop": 3,
                "tele_total_intakes": 2,
                "tele_total_pieces": 1,
                "tele_total_points": 4,
                "expected_speaker_cycle_time": 20,
                "expected_amp_cycle_time": 30,
                "expected_speaker_cycles": 20,
                "expected_amp_cycles": 30,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "incap_time": 4,
                "fail": 12,
                "total_intakes": 1,
                "total_pieces": 3,
                "dropped_pieces": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 2,
                "tele_total_failed_pieces": 5,
                "auto_total_failed_pieces": 2,
                "auto_total_points": 4,
                "endgame_total_points": 4,
                "total_points": 10,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 2,
                "auto_speaker": 4,
                "auto_amp": 1,
                "auto_total_intakes": 11,
                "auto_total_pieces": 0,
                "tele_speaker": 5,
                "tele_amplified": 6,
                "tele_amp": 3,
                "tele_intakes_amp": 1,
                "tele_intakes_center": 1,
                "tele_intakes_far": 1,
                "tele_intakes_poach": 1,
                "tele_ferry": 16,
                "tele_drop": 3,
                "tele_total_intakes": 3,
                "tele_total_pieces": 2,
                "tele_total_points": 3,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 20,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 20,
                "incap_time": 5,
                "fail": 13,
                "total_intakes": 2,
                "total_pieces": 4,
                "dropped_pieces": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 2,
                "tele_total_failed_pieces": 4,
                "auto_total_failed_pieces": 2,
                "auto_total_points": 4,
                "endgame_total_points": 4,
                "total_points": 10,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 3,
                "auto_speaker": 5,
                "auto_amp": 1,
                "auto_total_intakes": 12,
                "auto_total_pieces": 1,
                "tele_speaker": 6,
                "tele_amplified": 7,
                "tele_amp": 4,
                "tele_intakes_amp": 2,
                "tele_intakes_center": 2,
                "tele_intakes_far": 2,
                "tele_intakes_poach": 2,
                "tele_ferry": 17,
                "tele_drop": 2,
                "tele_total_intakes": 4,
                "tele_total_pieces": 3,
                "tele_total_points": 2,
                "expected_speaker_cycle_time": 25,
                "expected_amp_cycle_time": 25,
                "expected_speaker_cycles": 25,
                "expected_amp_cycles": 25,
                "incap_time": 6,
                "fail": 14,
                "total_intakes": 3,
                "total_pieces": 5,
                "dropped_pieces": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 3,
                "tele_total_failed_pieces": 3,
                "auto_total_failed_pieces": 3,
                "auto_total_points": 4,
                "endgame_total_points": 5,
                "total_points": 9,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 4,
                "auto_speaker": 6,
                "auto_amp": 1,
                "auto_total_intakes": 13,
                "auto_total_pieces": 2,
                "tele_speaker": 7,
                "tele_amplified": 8,
                "tele_amp": 5,
                "tele_intakes_amp": 3,
                "tele_intakes_center": 3,
                "tele_intakes_far": 3,
                "tele_intakes_poach": 3,
                "tele_ferry": 18,
                "tele_drop": 2,
                "tele_total_intakes": 5,
                "tele_total_pieces": 4,
                "tele_total_points": 2,
                "expected_speaker_cycle_time": 15,
                "expected_amp_cycle_time": 15,
                "expected_speaker_cycles": 15,
                "expected_amp_cycles": 15,
                "incap_time": 7,
                "fail": 15,
                "total_intakes": 4,
                "total_pieces": 6,
                "dropped_pieces": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 3,
                "tele_total_failed_pieces": 2,
                "auto_total_failed_pieces": 3,
                "auto_total_points": 6,
                "endgame_total_points": 5,
                "total_points": 10,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 5,
                "auto_speaker": 7,
                "auto_amp": 2,
                "auto_total_intakes": 14,
                "auto_total_pieces": 3,
                "tele_speaker": 8,
                "tele_amplified": 9,
                "tele_amp": 6,
                "tele_intakes_amp": 4,
                "tele_intakes_center": 4,
                "tele_intakes_far": 4,
                "tele_intakes_poach": 4,
                "tele_ferry": 19,
                "tele_drop": 3,
                "tele_total_intakes": 6,
                "tele_total_pieces": 5,
                "tele_total_points": 3,
                "expected_speaker_cycle_time": 10,
                "expected_amp_cycle_time": 10,
                "expected_speaker_cycles": 10,
                "expected_amp_cycles": 10,
                "incap_time": 8,
                "fail": 16,
                "total_intakes": 5,
                "total_pieces": 7,
                "dropped_pieces": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 2,
                "tele_total_failed_pieces": 1,
                "auto_total_failed_pieces": 1,
                "auto_total_points": 6,
                "endgame_total_points": 6,
                "total_points": 9,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 20,
                "expected_amp_notes": 30,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
        ]

        expected_output = {
            "auto_sd_speaker": 1.7204650534085253,
            "auto_sd_amp": 0.4,
            "auto_sd_failed_amp": 0.0,
            "auto_sd_failed_speaker": 0.0,
            "auto_sd_total_intakes": 4.317406628984581,
            "auto_sd_total_pieces": 1.1661903789690602,
            "auto_sd_total_points": 0.979795897113,
            "tele_sd_speaker": 1.1661903789690602,
            "tele_sd_failed_speaker": 0.0,
            "tele_sd_amplified": 1.4142135623730951,
            "tele_sd_amp": 1.4142135623730951,
            "tele_sd_failed_amp": 0.0,
            "tele_sd_intake_amp": 1.4142135623730951,
            "tele_sd_intake_center": 1.4142135623730951,
            "tele_sd_intake_far": 1.4142135623730951,
            "tele_sd_intake_poach": 1.4142135623730951,
            "tele_sd_failed_speaker": 0.0,
            "tele_sd_ferry": 1.4142135623730951,
            "tele_sd_drop": 0.48989794855664,
            "tele_sd_total_intakes": 1.4142135623730951,
            "tele_sd_total_pieces": 1.4142135623730951,
            "tele_sd_total_points": 0.74833147735479,
            "tele_sd_total_failed_pieces": 1.4142135623731,
            "auto_sd_total_failed_pieces": 0.74833147735479,
            "endgame_sd_total_points": 0.748331477355,
            "sd_expected_amp_cycle_time": 7.071067811865,
            "sd_expected_speaker_cycle_time": 7.071067811865,
            "sd_expected_amp_cycles": 7.071067811865,
            "sd_expected_speaker_cycles": 7.071067811865,
            "sd_expected_cycles": 0.0,
            "sd_expected_cycle_time": 0.0,
            "sd_expected_notes": 0.0,
            "sd_expected_amp_notes": 0.0,
            "sd_expected_speaker_notes": 0.0,
            "sd_incap_time": 1.4142135623730951,
            "sd_total_points": 0.489897948557,
            "lfm_auto_sd_amp": 0.433012701892,
            "lfm_auto_sd_failed_amp": 0.0,
            "lfm_auto_sd_failed_speaker": 0.0,
            "lfm_auto_sd_speaker": 1.11803398875,
            "lfm_auto_sd_total_failed_pieces": 0.829156197589,
            "lfm_auto_sd_total_intakes": 1.11803398875,
            "lfm_auto_sd_total_pieces": 1.118033988749895,
            "lfm_tele_sd_total_intakes": 1.118033988749895,
            "lfm_tele_sd_amp": 1.11803398875,
            "lfm_tele_sd_amplified": 1.11803398875,
            "lfm_tele_sd_failed_amp": 0.0,
            "lfm_tele_sd_failed_speaker": 0.0,
            "lfm_tele_sd_total_points": 0.5,
            "lfm_tele_sd_total_failed_pieces": 1.1180339887499,
            "lfm_tele_sd_total_failed_pieces": 1.11803398875,
            "lfm_tele_sd_intake_amp": 1.11803398875,
            "lfm_tele_sd_intake_center": 1.11803398875,
            "lfm_tele_sd_intake_poach": 1.11803398875,
            "lfm_tele_sd_speaker": 1.11803398875,
            "lfm_sd_incap_time": 1.11803398875,
            "lfm_sd_expected_amp_cycle_time": 5.590169943749,
            "lfm_sd_expected_speaker_cycle_time": 7.905694150421,
            "lfm_sd_expected_amp_cycles": 5.590169943749,
            "lfm_sd_expected_speaker_cycles": 7.905694150421,
            "lfm_tele_sd_ferry": 1.11803398875,
            "lfm_tele_sd_drop": 0.5,
            "lfm_tele_sd_failed_amplified": 0.5,
            "lfm_auto_sd_total_points": 1.0,
            "lfm_endgame_sd_total_points": 0.70710678118655,
            "lfm_sd_total_points": 0.5,
            "tele_sd_failed_amplified": 0.48989794855664,
            "lfm_sd_expected_cycles": 0.0,
            "lfm_sd_expected_cycle_time": 0.0,
            "lfm_sd_expected_notes": 0.0,
            "lfm_sd_expected_amp_notes": 0.0,
            "lfm_sd_expected_speaker_notes": 0.0,
            "tele_sd_trap": 0.0,
            "tele_sd_failed_trap": 0.0,
            "lfm_tele_sd_trap": 0.0,
            "lfm_tele_sd_failed_trap": 0.0,
            "tele_sd_total_speaker_notes": 0.0,
            "lfm_tele_sd_total_speaker_notes": 0.0,
            "lfm_auto_sd_ferry": 0.0,
            "auto_sd_ferry": 0.0,
        }
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(
            [tim for tim in tims if tim["match_number"] > 1]
        )
        standard_deviations = self.test_calc.calculate_standard_deviations(
            action_counts, lfm_action_counts
        )
        assert (
            # Rounds every value in standard_deviations and expected_output to the 12th decimal point
            {key: round(standard_deviations[key], 12) for key in standard_deviations}
            == {key: round(expected_output[key], 12) for key in expected_output}
        )

    def test_counts(self):
        """Tests calculate_counts function from src/calculations/obj_team.py"""
        tims = [
            {
                "start_position": "1",
                "stage_level_left": "O",
                "stage_level_center": "N",
                "stage_level_right": "N",
                "has_preload": True,
                "match_number": 1,
                "incap_time": 0,
                "parked": False,
                "harmonized": False,
                "scored_preload": True,
            },
            {
                "start_position": "2",
                "stage_level_left": "N",
                "stage_level_center": "F",
                "stage_level_right": "N",
                "has_preload": True,
                "incap_time": 0,
                "match_number": 2,
                "parked": True,
                "harmonized": False,
                "scored_preload": True,
            },
            {
                "start_position": "2",
                "stage_level_left": "N",
                "stage_level_center": "N",
                "stage_level_right": "O",
                "has_preload": True,
                "match_number": 3,
                "incap_time": 1,
                "parked": False,
                "harmonized": False,
                "scored_preload": False,
            },
            {
                "start_position": "0",
                "stage_level_left": "N",
                "stage_level_center": "N",
                "stage_level_right": "N",
                "has_preload": False,
                "match_number": 4,
                "incap_time": 0,
                "parked": True,
                "harmonized": False,
                "scored_preload": False,
            },
            {
                "start_position": "2",
                "stage_level_left": "N",
                "stage_level_center": "O",
                "stage_level_right": "N",
                "has_preload": True,
                "match_number": 5,
                "incap_time": 0,
                "parked": False,
                "harmonized": False,
                "scored_preload": True,
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]

        expected_output = {
            "stage_attempts_left": 1,
            "stage_attempts_center": 2,
            "stage_attempts_right": 1,
            "stage_successes_all": 3,
            "stage_attempts_all": 4,
            "stage_successes_left": 1,
            "stage_successes_center": 1,
            "stage_successes_right": 1,
            "parks": 2,
            "stage_fails_all": 1,
            "position_zero_starts": 1,
            "position_one_starts": 1,
            "position_two_starts": 3,
            "stage_fails_left": 0,
            "stage_fails_center": 1,
            "stage_fails_right": 0,
            "position_three_starts": 0,
            "position_four_starts": 0,
            "preloaded_starts": 4,
            "matches_incap": 1,
            "matches_played": 5,
            "preloaded_starts": 4,
            "lfm_stage_attempts_all": 3,
            "lfm_stage_attempts_left": 0,
            "lfm_stage_attempts_center": 2,
            "lfm_stage_attempts_right": 1,
            "lfm_stage_successes_left": 0,
            "lfm_stage_successes_center": 1,
            "lfm_stage_successes_right": 1,
            "lfm_parks": 2,
            "lfm_stage_fails_all": 1,
            "lfm_stage_fails_left": 0,
            "lfm_stage_fails_center": 1,
            "lfm_stage_fails_right": 0,
            "lfm_stage_successes_all": 2,
            "lfm_stage_successes_left": 0,
            "lfm_stage_successes_center": 1,
            "lfm_stage_successes_right": 1,
            "lfm_position_zero_starts": 1,
            "lfm_position_one_starts": 0,
            "lfm_position_two_starts": 3,
            "lfm_position_three_starts": 0,
            "lfm_position_four_starts": 0,
            "lfm_preloaded_starts": 3,
            "lfm_matches_incap": 0,
            "lfm_preloaded_starts": 3,
            "lfm_matches_incap": 1,
            "matches_harmonized": 0,
            "lfm_matches_harmonized": 0,
            "preload_successes": 3,
            "lfm_preload_successes": 2,
        }
        assert self.test_calc.calculate_counts(tims, lfm_tims) == expected_output

    def test_multi_counts(self):
        """Tests calculate_multi_counts from src/calculations/obj_team.py"""
        obj_tims = [
            {"match_number": 1, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 2, "team_number": 1678, "trap": 42, "failed_trap": 69},
            {"match_number": 3, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 4, "team_number": 1678, "trap": 42, "failed_trap": 69},
            {"match_number": 5, "team_number": 1678, "trap": 69, "failed_trap": 42},
            {"match_number": 6, "team_number": 1678, "trap": 42, "failed_trap": 69},
        ]
        result = self.test_calc.calculate_multi_counts(obj_tims, obj_tims[2:])
        assert result == {
            "trap_successes": 333,
            "trap_fails": 333,
            "trap_attempts": 666,
            "lfm_trap_successes": 222,
            "lfm_trap_fails": 222,
            "lfm_trap_attempts": 444,
        }

    def test_special_counts(self):
        """Tests calculate_special_counts function from src/calculations.obj_team.py"""
        obj_tims = [
            {
                "match_number": 1,
                "team_number": 99999,
                "chain_amp": "O",
                "chain_blind": "N",
                "chain_source": "N",
            },
            {
                "match_number": 2,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "O",
                "chain_source": "N",
            },
            {
                "match_number": 3,
                "team_number": 99999,
                "chain_amp": "O",
                "chain_blind": "N",
                "chain_source": "N",
            },
            {
                "match_number": 4,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "N",
                "chain_source": "O",
            },
            {
                "match_number": 5,
                "team_number": 99999,
                "chain_amp": "N",
                "chain_blind": "F",
                "chain_source": "N",
            },
        ]
        subj_tims = [
            {
                "match_number": 1,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 2,
                "team_number": 99999,
                "climb_after": False,
            },
            {
                "match_number": 3,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 4,
                "team_number": 99999,
                "climb_after": True,
            },
            {
                "match_number": 5,
                "team_number": 99999,
                "climb_after": True,
            },
        ]
        expected_output = {
            "climb_after_successes": 4,
            "lfm_climb_after_successes": 3,
        }
        lfm_obj_tims = [tim for tim in obj_tims if tim["match_number"] > 1]
        lfm_subj_tims = [tim for tim in subj_tims if tim["match_number"] > 1]
        assert (
            self.test_calc.calculate_special_counts(
                obj_tims, subj_tims, lfm_obj_tims, lfm_subj_tims
            )
            == expected_output
        )

    def test_super_counts(self):
        """Tests calculate_super_counts function from src/calculations.obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": False,
                "did_ferry": True,
            },
            {
                "match_number": 2,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 3,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 4,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 5,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
        ]
        expected_output = {
            "matches_climb_after": 4,
            "lfm_matches_climb_after": 4,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        assert self.test_calc.calculate_super_counts(tims, lfm_tims) == expected_output

    def test_ss_counts(self):
        """Tests calculate_ss_counts function from src/calculations.obj_team.py"""
        tims = [
            {
                "match_number": 1,
                "team_number": "1690",
                "played_defense": True,
            },
            {
                "match_number": 2,
                "team_number": "1690",
                "played_defense": True,
            },
            {
                "match_number": 3,
                "team_number": "1690",
                "played_defense": False,
            },
            {
                "match_number": 4,
                "team_number": "1690",
                "played_defense": True,
            },
            {
                "match_number": 5,
                "team_number": "1690",
                "played_defense": True,
            },
            {"match_number": 5, "team_number": "5419"},
        ]
        expected_output = {
            "matches_played_defense": 4,
            "lfm_matches_played_defense": 3,
            "lfm_matches_with_broken_mechanism": 0,
            "matches_with_broken_mechanism": 0,
        }
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        assert self.test_calc.calculate_ss_counts(tims, lfm_tims) == expected_output

    def test_extrema(self):
        tims = [
            {
                "match_number": 1,
                "auto_speaker": 2,
                "auto_amp": 1,
                "auto_total_intakes": 2,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "tele_speaker": 5,
                "tele_amplified": 5,
                "tele_amp": 2,
                "tele_intakes_amp": 0,
                "tele_intakes_center": 0,
                "tele_intakes_far": 0,
                "tele_intakes_poach": 0,
                "tele_ferry": 15,
                "tele_total_intakes": 2,
                "tele_total_pieces": 1,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 20,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 20,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "incap_time": 4,
                "fail": 12,
                "total_intakes": 1,
                "total_pieces": 3,
                "tele_drop": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 3,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 1,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 12,
                "endgame_total_points": 0,
                "total_points": 15,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 2,
                "auto_speaker": 4,
                "auto_amp": 1,
                "auto_total_intakes": 11,
                "auto_total_pieces": 0,
                "auto_total_points": 8,
                "tele_speaker": 5,
                "tele_amplified": 6,
                "tele_amp": 3,
                "tele_intakes_amp": 1,
                "tele_intakes_center": 1,
                "tele_intakes_far": 1,
                "tele_intakes_poach": 1,
                "tele_ferry": 16,
                "tele_total_intakes": 3,
                "tele_total_pieces": 2,
                "expected_speaker_cycle_time": 20,
                "expected_amp_cycle_time": 30,
                "expected_speaker_cycles": 20,
                "expected_amp_cycles": 30,
                "incap_time": 5,
                "fail": 13,
                "total_intakes": 2,
                "total_pieces": 4,
                "tele_drop": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 1,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 11,
                "endgame_total_points": 0,
                "total_points": 15,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 3,
                "auto_speaker": 5,
                "auto_amp": 1,
                "auto_total_intakes": 12,
                "auto_total_pieces": 1,
                "auto_total_points": 5,
                "tele_speaker": 6,
                "tele_amplified": 7,
                "tele_amp": 4,
                "tele_intakes_amp": 2,
                "tele_intakes_center": 2,
                "tele_intakes_far": 2,
                "tele_intakes_poach": 2,
                "tele_ferry": 17,
                "tele_total_intakes": 4,
                "tele_total_pieces": 3,
                "expected_speaker_cycle_time": 25,
                "expected_amp_cycle_time": 25,
                "expected_speaker_cycles": 25,
                "expected_amp_cycles": 25,
                "incap_time": 6,
                "fail": 14,
                "total_intakes": 3,
                "total_pieces": 5,
                "tele_drop": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 1,
                "tele_total_failed_pieces": 5,
                "tele_total_points": 8,
                "endgame_total_points": 0,
                "total_points": 12,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 4,
                "auto_speaker": 6,
                "auto_amp": 1,
                "auto_total_intakes": 13,
                "auto_total_pieces": 2,
                "auto_total_points": 5,
                "tele_speaker": 7,
                "tele_amplified": 8,
                "tele_amp": 5,
                "tele_intakes_amp": 3,
                "tele_intakes_center": 3,
                "tele_intakes_far": 3,
                "tele_intakes_poach": 3,
                "tele_ferry": 18,
                "tele_total_intakes": 5,
                "tele_total_pieces": 4,
                "expected_speaker_cycle_time": 15,
                "expected_amp_cycle_time": 15,
                "expected_speaker_cycles": 15,
                "expected_amp_cycles": 15,
                "incap_time": 7,
                "fail": 15,
                "total_intakes": 4,
                "total_pieces": 6,
                "tele_drop": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 2,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 9,
                "endgame_total_points": 0,
                "total_points": 11,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "match_number": 5,
                "auto_speaker": 7,
                "auto_amp": 2,
                "auto_total_intakes": 14,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "tele_speaker": 8,
                "tele_amplified": 9,
                "tele_amp": 6,
                "tele_intakes_amp": 4,
                "tele_intakes_center": 4,
                "tele_intakes_far": 4,
                "tele_intakes_poach": 4,
                "tele_ferry": 19,
                "tele_total_intakes": 6,
                "tele_total_pieces": 5,
                "expected_speaker_cycle_time": 10,
                "expected_amp_cycle_time": 10,
                "expected_speaker_cycles": 10,
                "expected_amp_cycles": 10,
                "incap_time": 8,
                "fail": 16,
                "total_intakes": 5,
                "total_pieces": 7,
                "tele_drop": 0,
                "auto_failed_speaker": 3,
                "auto_failed_amp": 2,
                "auto_total_failed_pieces": 2,
                "tele_failed_speaker": 3,
                "tele_failed_amp": 2,
                "tele_failed_amplified": 1,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 9,
                "endgame_total_points": 1,
                "total_points": 11,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 20,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 1]
        action_counts = self.test_calc.get_action_counts(tims)
        lfm_action_counts = self.test_calc.get_action_counts(lfm_tims)
        expected_output = {
            "auto_max_speaker": 7,
            "auto_max_amp": 2,
            "auto_max_failed_amp": 2,
            "auto_max_failed_speaker": 3,
            "auto_max_total_intakes": 14,
            "auto_max_total_pieces": 3,
            "auto_max_total_points": 8,
            "tele_max_speaker": 8,
            "tele_max_amp": 6,
            "tele_max_ferry": 19,
            "tele_max_total_intakes": 6,
            "tele_max_total_pieces": 5,
            "tele_max_intake_amp": 4,
            "tele_max_intake_center": 4,
            "tele_max_intake_far": 4,
            "tele_max_intake_poach": 4,
            "max_incap_time": 8,
            "max_expected_speaker_cycle_time": 30,
            "max_expected_amp_cycle_time": 30,
            "max_expected_speaker_cycles": 30,
            "max_expected_amp_cycles": 30,
            "max_expected_cycle_time": 20,
            "max_expected_cycles": 20,
            "max_expected_notes": 20,
            "max_expected_speaker_notes": 30,
            "max_expected_amp_notes": 20,
            "min_expected_speaker_cycle_time": 10,
            "min_expected_amp_cycle_time": 10,
            "min_expected_cycle_time": 20,
            "max_total_intakes": 5,
            "max_total_pieces": 7,
            "tele_max_drop": 0,
            "auto_max_total_failed_pieces": 3,
            "tele_max_total_failed_pieces": 5,
            "tele_max_failed_amplified": 2,
            "tele_max_failed_speaker": 3,
            "tele_max_failed_amp": 2,
            "tele_max_amplified": 9,
            "tele_max_total_points": 12,
            "endgame_max_total_points": 1,
            "max_total_points": 15,
            "lfm_auto_max_speaker": 7,
            "lfm_auto_max_amp": 2,
            "lfm_auto_max_failed_amp": 2,
            "lfm_auto_max_failed_speaker": 3,
            "lfm_auto_max_total_intakes": 14,
            "lfm_auto_max_total_pieces": 3,
            "lfm_auto_max_total_points": 8,
            "lfm_tele_max_speaker": 8,
            "lfm_tele_max_amplified": 9,
            "lfm_tele_max_amp": 6,
            "lfm_tele_max_ferry": 19,
            "lfm_tele_max_total_intakes": 6,
            "lfm_tele_max_total_pieces": 5,
            "lfm_max_incap_time": 8,
            "lfm_max_expected_speaker_cycle_time": 25,
            "lfm_max_expected_amp_cycle_time": 30,
            "lfm_max_expected_speaker_cycles": 25,
            "lfm_max_expected_amp_cycles": 30,
            "lfm_max_total_intakes": 5,
            "lfm_max_total_pieces": 7,
            "lfm_tele_max_drop": 0,
            "lfm_tele_max_intake_amp": 4,
            "lfm_tele_max_intake_center": 4,
            "lfm_tele_max_intake_far": 4,
            "lfm_tele_max_intake_poach": 4,
            "lfm_auto_max_total_failed_pieces": 2,
            "lfm_tele_max_failed_amp": 2,
            "lfm_tele_max_failed_speaker": 3,
            "lfm_tele_max_failed_amplified": 2,
            "lfm_tele_max_total_failed_pieces": 5,
            "lfm_tele_max_total_points": 11,
            "lfm_endgame_max_total_points": 1,
            "lfm_max_total_points": 15,
            "lfm_max_expected_cycle_time": 20,
            "lfm_max_expected_cycles": 20,
            "lfm_max_expected_notes": 20,
            "lfm_max_expected_speaker_notes": 30,
            "lfm_max_expected_amp_notes": 20,
            "lfm_min_expected_speaker_cycle_time": 10,
            "lfm_min_expected_amp_cycle_time": 10,
            "lfm_min_expected_cycle_time": 20,
            "tele_max_trap": 0,
            "lfm_tele_max_trap": 0,
            "tele_max_total_speaker_notes": 0,
            "lfm_tele_max_total_speaker_notes": 0,
            "lfm_auto_max_ferry": 0,
            "auto_max_ferry": 0,
        }
        assert (
            self.test_calc.calculate_extrema(
                action_counts,
                lfm_action_counts,
            )
            == expected_output
        )

    def test_medians(self):
        tims = [
            {
                "match_number": 1,
                "incap_time": 0,
                "expected_cycle_time": 0,
                "expected_speaker_cycle_time": 0,
                "expected_amp_cycle_time": 0,
                "expected_cycles": 0,
                "expected_speaker_cycles": 0,
                "expected_amp_cycles": 0,
                "expected_notes": 0,
                "expected_speaker_notes": 0,
                "expected_amp_notes": 0,
            },
            {
                "match_number": 2,
                "incap_time": 0,
                "expected_cycle_time": 0,
                "expected_speaker_cycle_time": 0,
                "expected_amp_cycle_time": 0,
                "expected_cycles": 0,
                "expected_speaker_cycles": 0,
                "expected_amp_cycles": 0,
                "expected_notes": 0,
                "expected_speaker_notes": 0,
                "expected_amp_notes": 0,
            },
            {
                "match_number": 3,
                "incap_time": 30,
                "expected_cycle_time": 30,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 30,
                "expected_cycles": 30,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 30,
                "expected_notes": 30,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 30,
            },
            {
                "match_number": 4,
                "incap_time": 49,
                "expected_cycle_time": 49,
                "expected_speaker_cycle_time": 49,
                "expected_amp_cycle_time": 49,
                "expected_cycles": 49,
                "expected_speaker_cycles": 49,
                "expected_amp_cycles": 49,
                "expected_notes": 49,
                "expected_speaker_notes": 49,
                "expected_amp_notes": 49,
            },
            {
                "match_number": 5,
                "incap_time": 80,
                "expected_cycle_time": 80,
                "expected_speaker_cycle_time": 80,
                "expected_amp_cycle_time": 80,
                "expected_cycles": 80,
                "expected_speaker_cycles": 80,
                "expected_amp_cycles": 80,
                "expected_notes": 80,
                "expected_speaker_notes": 80,
                "expected_amp_notes": 80,
            },
            {
                "match_number": 6,
                "incap_time": 120,
                "expected_cycle_time": 120,
                "expected_speaker_cycle_time": 120,
                "expected_amp_cycle_time": 120,
                "expected_cycles": 120,
                "expected_speaker_cycles": 120,
                "expected_amp_cycles": 120,
                "expected_notes": 120,
                "expected_speaker_notes": 120,
                "expected_amp_notes": 120,
            },
            {
                "match_number": 7,
                "incap_time": 130,
                "expected_cycle_time": 130,
                "expected_speaker_cycle_time": 130,
                "expected_amp_cycle_time": 130,
                "expected_cycles": 130,
                "expected_speaker_cycles": 130,
                "expected_amp_cycles": 130,
                "expected_notes": 130,
                "expected_speaker_notes": 130,
                "expected_amp_notes": 130,
            },
        ]

        expected_output = {
            "median_nonzero_incap_time": 80,
            "lfm_median_nonzero_incap_time": 100,
            "lfm_median_nonzero_expected_amp_cycle_time": 100.0,
            "lfm_median_nonzero_expected_amp_cycles": 100.0,
            "lfm_median_nonzero_expected_amp_notes": 100.0,
            "lfm_median_nonzero_expected_cycle_time": 100.0,
            "lfm_median_nonzero_expected_cycles": 100.0,
            "lfm_median_nonzero_expected_notes": 100.0,
            "lfm_median_nonzero_expected_speaker_cycle_time": 100.0,
            "lfm_median_nonzero_expected_speaker_cycles": 100.0,
            "lfm_median_nonzero_expected_speaker_notes": 100.0,
            "median_nonzero_expected_amp_cycle_time": 80,
            "median_nonzero_expected_amp_cycles": 80,
            "median_nonzero_expected_amp_notes": 80,
            "median_nonzero_expected_cycle_time": 80,
            "median_nonzero_expected_cycles": 80,
            "median_nonzero_expected_notes": 80,
            "median_nonzero_expected_speaker_cycle_time": 80,
            "median_nonzero_expected_speaker_cycles": 80,
            "median_nonzero_expected_speaker_notes": 80,
            "median_nonzero_incap_time": 80,
        }

        lfm_tims = [tim for tim in tims if tim["match_number"] > (len(tims) - 4)]
        action_sum = self.test_calc.get_action_sum(tims)
        lfm_action_sum = self.test_calc.get_action_sum(lfm_tims)
        assert (
            self.test_calc.calculate_medians(
                action_sum,
                lfm_action_sum,
            )
        ) == expected_output

    def test_modes(self):
        tims = [
            {
                "match_number": 1,
                "start_position": "3",
                "stage_level_right": "F",
                "stage_level_left": "N",
                "stage_level_center": "N",
                # NFPO
            },
            {
                "match_number": 2,
                "start_position": "0",
                "stage_level_right": "F",
                "stage_level_left": "N",
                "stage_level_center": "N",
            },
            {
                "match_number": 3,
                "start_position": "3",
                "stage_level_right": "F",
                "stage_level_left": "O",
                "stage_level_center": "N",
            },
            {
                "match_number": 4,
                "start_position": "1",
                "stage_level_right": "N",
                "stage_level_left": "N",
                "stage_level_center": "O",
            },
            {
                "match_number": 5,
                "start_position": "3",
                "stage_level_right": "F",
                "stage_level_left": "O",
                "stage_level_center": "N",
            },
            {
                "match_number": 6,
                "start_position": "0",
                "stage_level_right": "F",
                "stage_level_left": "N",
                "stage_level_center": "O",
            },
            {
                "match_number": 7,
                "start_position": "2",
                "stage_level_right": "N",
                "stage_level_left": "O",
                "stage_level_center": "N",
            },
            {
                "match_number": 8,
                "start_position": "1",
                "stage_level_right": "F",
                "stage_level_left": "N",
                "stage_level_center": "N",
            },
            {
                "match_number": 9,
                "start_position": "2",
                "stage_level_right": "F",
                "stage_level_left": "O",
                "stage_level_center": "N",
            },
            {
                "match_number": 10,
                "start_position": "3",
                "stage_level_right": "F",
                "stage_level_left": "N",
                "stage_level_center": "O",
            },
            {
                "match_number": 11,
                "start_position": "2",
                "stage_level_right": "N",
                "stage_level_left": "O",
                "stage_level_center": "N",
            },
        ]
        lfm_tims = [tim for tim in tims if tim["match_number"] > 2]
        action_categories = self.test_calc.get_action_categories(tims)
        lfm_action_categories = self.test_calc.get_action_categories(lfm_tims)
        assert self.test_calc.calculate_modes(action_categories, lfm_action_categories) == {
            "mode_start_position": ["3"],
            "mode_stage_level_all": ["O", "F"],
            "mode_stage_level_left": ["O"],
            "mode_stage_level_center": ["O"],
            "mode_stage_level_right": ["F"],
            "lfm_mode_stage_level_all": ["O"],
            "lfm_mode_stage_level_left": ["O"],
            "lfm_mode_stage_level_center": ["O"],
            "lfm_mode_stage_level_right": ["F"],
            "lfm_mode_start_position": ["3", "2"],
        }

    def test_success_rates(self):
        team_data = {
            "matches_played": 5,
            "matches_tippy": 2,
            "auto_avg_amp": 3,
            "auto_avg_failed_amp": 1,
            "auto_avg_speaker": 3,
            "auto_avg_failed_speaker": 1,
            "tele_avg_amp": 4,
            "tele_avg_failed_amp": 1,
            "tele_avg_speaker": 4,
            "tele_avg_failed_speaker": 2,
            "tele_avg_amplified": 1,
            "tele_avg_failed_amplified": 0,
            "stage_attempts_all": 8,
            "stage_successes_all": 4,
            "endgame_attempts": 6,
            "parks": 2,
            "lfm_onstage_attempts": 6,
            "lfm_onstage_successes": 4,
            "tele_avg_trap": 0,
            "tele_avg_failed_trap": 0,
            "lfm_tele_avg_trap": 0,
            "lfm_tele_avg_failed_trap": 0,
            "climb_after_successes": 1,
            "matches_climb_after": 3,
            "stage_attempts_left": 2,
            "stage_successes_left": 1,
            "stage_attempts_center": 0,
            "stage_successes_center": 0,
            "stage_attempts_right": 0,
            "stage_successes_right": 0,
            "lfm_stage_attempts_left": 2,
            "lfm_stage_successes_left": 1,
            "lfm_stage_attempts_center": 0,
            "lfm_stage_successes_center": 0,
            "lfm_stage_attempts_right": 0,
            "lfm_stage_successes_right": 0,
            "lfm_matches_climb_after": 2,
            "lfm_climb_after_successes": 1,
            "preloaded_starts": 10,
            "preload_successes": 7,
            "lfm_preloaded_starts": 4,
            "lfm_preload_successes": 3,
        }
        assert self.test_calc.calculate_success_rates(team_data) == {
            "auto_amp_percent_success": 0.75,
            "auto_speaker_percent_success": 0.75,
            "tele_speaker_percent_success": 0.71428571428,
            "tele_amp_percent_success": 0.8,
            "tele_speaker_percent_success": 0.7142857142857143,
            "total_amp_percent_success": 0.7777777777777778,
            "climb_after_percent_success": 0.3333333333333333333333333333,
            "lfm_auto_amp_percent_success": 0.75,
            "lfm_auto_speaker_percent_success": 0.75,
            "stage_percent_success_all": 0.5,
            "lfm_parked_percent": 0.4,
            "lfm_trap_percent_success": 0,
            "stage_percent_success_left": 0.5,
            "stage_percent_success_center": 0,
            "stage_percent_success_right": 0,
            "lfm_stage_percent_success_left": 0.5,
            "lfm_stage_percent_success_center": 0,
            "lfm_stage_percent_success_right": 0,
            "lfm_tele_amp_percent_success": 0.8,
            "lfm_tele_speaker_percent_success": 0.7142857142857143,
            "lfm_total_amp_percent_success": 0.7777777777777778,
            "lfm_total_speaker_percent_success": 0.7272727272727273,
            "lfm_climb_after_percent_success": 0.5,
            "lfm_stage_percent_success_all": 0.5,
            "trap_percent_success": 0,
            "parked_percent": 0.4,
            "total_speaker_percent_success": 0.7272727272727273,
            "auto_preload_percent_success": 0.7,
            "lfm_auto_preload_percent_success": 0.75,
        }

    def test_calculate_sums(self):
        team_data = {
            "auto_avg_amp": 2,
            "auto_avg_speaker": 2,
            "tele_avg_amp": 2,
            "tele_avg_speaker": 2,
            "tele_avg_amplified": 2,
            "stage_percent_success_all": 0.5,
            "parked_percent": 0.2,
            "trap_percent_success": 0.3,
        }
        obj_tims = [
            {
                "incap_time": 5,
            },
            {
                "incap_time": 4,
            },
            {
                "incap_time": 5,
            },
            {
                "incap_time": 7,
            },
            {
                "incap_time": 3,
            },
            {
                "incap_time": 2,
            },
        ]
        obj_lfm_tims = obj_tims[-4:]
        assert self.test_calc.calculate_sums(team_data, obj_tims, obj_lfm_tims) == {
            "auto_avg_total_points": 14,
            "endgame_avg_total_points": 3.2,
            "tele_avg_total_points": 16,
            "avg_total_points": 33.2,
            "total_incap_time": 26,
            "lfm_total_incap_time": 17,
        }

    def test_run(self):
        """Tests run function from src/calculations/obj_team.py"""
        subj_tims = [
            {
                "match_number": 1,
                "team_number": "973",
                "was_tippy": True,
                "climb_after": False,
                "did_ferry": True,
            },
            {
                "match_number": 2,
                "team_number": "973",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 3,
                "team_number": "973",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 4,
                "team_number": "973",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 5,
                "team_number": "973",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 1,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": False,
                "did_ferry": True,
            },
            {
                "match_number": 2,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 3,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 4,
                "team_number": "1678",
                "was_tippy": True,
                "climb_after": True,
                "did_ferry": True,
            },
            {
                "match_number": 5,
                "team_number": "1678",
                "was_tippy": False,
                "climb_after": True,
                "did_ferry": True,
            },
        ]
        obj_tims = [
            # 973
            {
                "team_number": "973",
                "match_number": 1,
                "auto_speaker": 2,
                "auto_amp": 1,
                "auto_total_intakes": 2,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 5,
                "tele_amplified": 5,
                "tele_amp": 2,
                "tele_intakes_amp": 0,
                "tele_intakes_center": 0,
                "tele_intakes_far": 0,
                "tele_intakes_poach": 0,
                "tele_ferry": 15,
                "tele_total_intakes": 2,
                "tele_total_pieces": 1,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 4,
                "total_points": 13,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 20,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 20,
                "incap_time": 4,
                "fail": 12,
                "total_intakes": 1,
                "total_pieces": 3,
                "start_position": "1",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 3,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 4,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 1,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": True,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "973",
                "match_number": 2,
                "auto_speaker": 4,
                "auto_amp": 0,
                "auto_total_intakes": 11,
                "auto_total_pieces": 0,
                "auto_total_points": 5,
                "auto_total_failed_pieces": 2,
                "tele_speaker": 5,
                "tele_amplified": 6,
                "tele_amp": 3,
                "tele_intakes_amp": 1,
                "tele_intakes_center": 1,
                "tele_intakes_far": 1,
                "tele_intakes_poach": 1,
                "tele_ferry": 16,
                "tele_total_intakes": 3,
                "tele_total_pieces": 2,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 8,
                "endgame_total_points": 2,
                "total_points": 13,
                "expected_speaker_cycle_time": 20,
                "expected_amp_cycle_time": 30,
                "expected_speaker_cycles": 20,
                "expected_amp_cycles": 30,
                "incap_time": 5,
                "fail": 13,
                "total_intakes": 2,
                "total_pieces": 4,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 0,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 2,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": True,
                "climb_after_successes": 1,
                "matches_climb_after": 2,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "973",
                "match_number": 3,
                "auto_speaker": 5,
                "auto_amp": 1,
                "auto_total_intakes": 12,
                "auto_total_pieces": 1,
                "auto_total_points": 6,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 6,
                "tele_amplified": 7,
                "tele_amp": 4,
                "tele_intakes_amp": 2,
                "tele_intakes_center": 2,
                "tele_intakes_far": 2,
                "tele_intakes_poach": 2,
                "tele_ferry": 17,
                "tele_total_intakes": 4,
                "tele_total_pieces": 3,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 1,
                "total_points": 15,
                "expected_speaker_cycle_time": 25,
                "expected_amp_cycle_time": 25,
                "expected_speaker_cycles": 25,
                "expected_amp_cycles": 25,
                "incap_time": 6,
                "fail": 14,
                "total_intakes": 3,
                "total_pieces": 5,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 2,
                "auto_failed_amp": 3,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 5,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "973",
                "match_number": 4,
                "auto_speaker": 6,
                "auto_amp": 2,
                "auto_total_intakes": 13,
                "auto_total_pieces": 2,
                "auto_total_points": 4,
                "auto_total_failed_pieces": 1,
                "tele_speaker": 7,
                "tele_amplified": 8,
                "tele_amp": 5,
                "tele_intakes_amp": 3,
                "tele_intakes_center": 3,
                "tele_intakes_far": 3,
                "tele_intakes_poach": 3,
                "tele_ferry": 18,
                "tele_total_intakes": 5,
                "tele_total_pieces": 4,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 10,
                "endgame_total_points": 6,
                "total_points": 21,
                "expected_speaker_cycle_time": 15,
                "expected_amp_cycle_time": 15,
                "expected_speaker_cycles": 15,
                "expected_amp_cycles": 15,
                "incap_time": 7,
                "fail": 15,
                "total_intakes": 4,
                "total_pieces": 6,
                "start_position": "0",
                "stage_level": "F",
                "has_preload": False,
                "tele_drop": 0,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 3,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 1,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "973",
                "match_number": 5,
                "auto_speaker": 7,
                "auto_amp": 3,
                "auto_total_intakes": 14,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 8,
                "tele_amplified": 9,
                "tele_amp": 6,
                "tele_intakes_amp": 4,
                "tele_intakes_center": 4,
                "tele_intakes_far": 4,
                "tele_intakes_poach": 4,
                "tele_ferry": 19,
                "tele_total_intakes": 6,
                "tele_total_pieces": 5,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 6,
                "total_points": 15,
                "expected_speaker_cycle_time": 10,
                "expected_amp_cycle_time": 10,
                "expected_speaker_cycles": 10,
                "expected_amp_cycles": 10,
                "incap_time": 8,
                "fail": 16,
                "total_intakes": 5,
                "total_pieces": 7,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 1,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 1,
                "tele_failed_amplified": 0,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 0,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 10,
                "time_from_amp_to_speaker": 10,
                "time_from_poach_to_amp": 10,
                "time_from_poach_to_speaker": 10,
                "time_from_center_to_amp": 10,
                "time_from_center_to_speaker": 10,
                "time_from_far_to_amp": 10,
                "time_from_far_to_speaker": 10,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            # 1678
            {
                "team_number": "1678",
                "match_number": 1,
                "auto_speaker": 2,
                "auto_amp": 1,
                "auto_total_intakes": 2,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 5,
                "tele_amplified": 5,
                "tele_amp": 2,
                "tele_intakes_amp": 0,
                "tele_intakes_center": 0,
                "tele_intakes_far": 0,
                "tele_intakes_poach": 0,
                "tele_ferry": 15,
                "tele_total_intakes": 2,
                "tele_total_pieces": 1,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 4,
                "total_points": 13,
                "expected_speaker_cycle_time": 30,
                "expected_amp_cycle_time": 20,
                "expected_speaker_cycles": 30,
                "expected_amp_cycles": 20,
                "incap_time": 4,
                "fail": 12,
                "total_intakes": 1,
                "total_pieces": 3,
                "start_position": "1",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 3,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 4,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 1,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": True,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "1678",
                "match_number": 2,
                "auto_speaker": 4,
                "auto_amp": 0,
                "auto_total_intakes": 11,
                "auto_total_pieces": 0,
                "auto_total_points": 5,
                "auto_total_failed_pieces": 2,
                "tele_speaker": 5,
                "tele_amplified": 6,
                "tele_amp": 3,
                "tele_intakes_amp": 1,
                "tele_intakes_center": 1,
                "tele_intakes_far": 1,
                "tele_intakes_poach": 1,
                "tele_ferry": 16,
                "tele_total_intakes": 3,
                "tele_total_pieces": 2,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 8,
                "endgame_total_points": 2,
                "total_points": 13,
                "expected_speaker_cycle_time": 20,
                "expected_amp_cycle_time": 30,
                "expected_speaker_cycles": 20,
                "expected_amp_cycles": 30,
                "incap_time": 5,
                "fail": 13,
                "total_intakes": 2,
                "total_pieces": 4,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 0,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 2,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": True,
                "climb_after_successes": 1,
                "matches_climb_after": 2,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "1678",
                "match_number": 3,
                "auto_speaker": 5,
                "auto_amp": 1,
                "auto_total_intakes": 12,
                "auto_total_pieces": 1,
                "auto_total_points": 6,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 6,
                "tele_amplified": 7,
                "tele_amp": 4,
                "tele_intakes_amp": 2,
                "tele_intakes_center": 2,
                "tele_intakes_far": 2,
                "tele_intakes_poach": 2,
                "tele_ferry": 17,
                "tele_total_intakes": 4,
                "tele_total_pieces": 3,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 1,
                "total_points": 15,
                "expected_speaker_cycle_time": 25,
                "expected_amp_cycle_time": 25,
                "expected_speaker_cycles": 25,
                "expected_amp_cycles": 25,
                "incap_time": 6,
                "fail": 14,
                "total_intakes": 3,
                "total_pieces": 5,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 2,
                "auto_failed_amp": 3,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 5,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "1678",
                "match_number": 4,
                "auto_speaker": 6,
                "auto_amp": 2,
                "auto_total_intakes": 13,
                "auto_total_pieces": 2,
                "auto_total_points": 4,
                "auto_total_failed_pieces": 1,
                "tele_speaker": 7,
                "tele_amplified": 8,
                "tele_amp": 5,
                "tele_intakes_amp": 3,
                "tele_intakes_center": 3,
                "tele_intakes_far": 3,
                "tele_intakes_poach": 3,
                "tele_ferry": 18,
                "tele_total_intakes": 5,
                "tele_total_pieces": 4,
                "tele_total_failed_pieces": 2,
                "tele_total_points": 10,
                "endgame_total_points": 6,
                "total_points": 21,
                "expected_speaker_cycle_time": 15,
                "expected_amp_cycle_time": 15,
                "expected_speaker_cycles": 15,
                "expected_amp_cycles": 15,
                "incap_time": 7,
                "fail": 15,
                "total_intakes": 4,
                "total_pieces": 6,
                "start_position": "0",
                "stage_level": "F",
                "has_preload": False,
                "tele_drop": 0,
                "auto_failed_speaker": 0,
                "auto_failed_amp": 3,
                "tele_failed_speaker": 0,
                "tele_failed_amplified": 1,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 1,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 0,
                "time_from_amp_to_speaker": 0,
                "time_from_poach_to_amp": 0,
                "time_from_poach_to_speaker": 0,
                "time_from_center_to_amp": 0,
                "time_from_center_to_speaker": 0,
                "time_from_far_to_amp": 0,
                "time_from_far_to_speaker": 0,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
            {
                "team_number": "1678",
                "match_number": 5,
                "auto_speaker": 7,
                "auto_amp": 3,
                "auto_total_intakes": 14,
                "auto_total_pieces": 3,
                "auto_total_points": 3,
                "auto_total_failed_pieces": 3,
                "tele_speaker": 8,
                "tele_amplified": 9,
                "tele_amp": 6,
                "tele_intakes_amp": 4,
                "tele_intakes_center": 4,
                "tele_intakes_far": 4,
                "tele_intakes_poach": 4,
                "tele_ferry": 19,
                "tele_total_intakes": 6,
                "tele_total_pieces": 5,
                "tele_total_failed_pieces": 1,
                "tele_total_points": 6,
                "endgame_total_points": 6,
                "total_points": 15,
                "expected_speaker_cycle_time": 10,
                "expected_amp_cycle_time": 10,
                "expected_speaker_cycles": 10,
                "expected_amp_cycles": 10,
                "incap_time": 8,
                "fail": 16,
                "total_intakes": 5,
                "total_pieces": 7,
                "start_position": "2",
                "stage_level": "F",
                "has_preload": True,
                "tele_drop": 0,
                "auto_failed_speaker": 1,
                "auto_failed_amp": 2,
                "tele_failed_speaker": 1,
                "tele_failed_amplified": 0,
                "tele_failed_amp": 0,
                "stage_level_left": "N",
                "stage_level_center": "S",
                "stage_level_right": "N",
                "parked": False,
                "climb_after_successes": 0,
                "matches_climb_after": 1,
                "time_from_amp_to_amp": 10,
                "time_from_amp_to_speaker": 10,
                "time_from_poach_to_amp": 10,
                "time_from_poach_to_speaker": 10,
                "time_from_center_to_amp": 10,
                "time_from_center_to_speaker": 10,
                "time_from_far_to_amp": 10,
                "time_from_far_to_speaker": 10,
                "harmonized": True,
                "expected_cycle_time": 30,
                "expected_cycles": 20,
                "expected_notes": 20,
                "expected_speaker_notes": 30,
                "expected_amp_notes": 20,
                "trap": 0,
                "fail_trap": 0,
                "auto_ferry": 0,
                "tele_total_speaker_notes": 0,
            },
        ]
        expected_results = [
            {
                "team_number": "973",
                "auto_amp_percent_success": 0.3684210526315789,
                "tele_amp_percent_success": 1.0,
                "tele_avg_amp": 4.0,
                "tele_avg_amplified": 7.0,
                "tele_avg_drop": 0.6,
                "tele_avg_failed_trap": 0.0,
                "tele_avg_failed_amp": 0.0,
                "tele_avg_failed_amplified": 1.8,
                "tele_avg_failed_speaker": 0.2,
                "tele_avg_ferry": 17.0,
                "tele_avg_intake_amp": 2.0,
                "tele_avg_intake_center": 2.0,
                "tele_avg_intake_far": 2.0,
                "tele_avg_intake_poach": 2.0,
                "tele_avg_speaker": 6.2,
                "tele_avg_total_failed_pieces": 1.4,
                "tele_avg_total_intakes": 4.0,
                "tele_avg_total_pieces": 3.0,
                "tele_avg_total_points": 51.4,
                "tele_avg_trap": 0.0,
                "tele_max_amp": 6,
                "tele_max_amplified": 9,
                "tele_max_drop": 3,
                "tele_max_failed_amp": 0,
                "tele_max_failed_amplified": 5,
                "tele_max_failed_speaker": 1,
                "tele_max_ferry": 19,
                "tele_max_intake_amp": 4,
                "tele_max_intake_center": 4,
                "tele_max_intake_far": 4,
                "tele_max_intake_poach": 4,
                "tele_max_speaker": 8,
                "tele_max_total_failed_pieces": 2,
                "tele_max_total_intakes": 6,
                "tele_max_total_pieces": 5,
                "tele_max_total_points": 10,
                "tele_max_trap": 0,
                "tele_sd_amp": 1.4142135623730951,
                "tele_sd_amplified": 1.4142135623730951,
                "tele_sd_drop": 1.2,
                "tele_sd_failed_amp": 0.0,
                "tele_sd_failed_amplified": 1.7204650534085253,
                "tele_sd_failed_speaker": 0.4,
                "tele_sd_failed_trap": 0.0,
                "tele_sd_ferry": 1.4142135623730951,
                "tele_sd_intake_amp": 1.4142135623730951,
                "tele_sd_intake_center": 1.4142135623730951,
                "tele_sd_intake_far": 1.4142135623730951,
                "tele_sd_intake_poach": 1.4142135623730951,
                "tele_sd_speaker": 1.1661903789690602,
                "tele_sd_total_failed_pieces": 0.4898979485566356,
                "tele_sd_total_intakes": 1.4142135623730951,
                "tele_sd_total_pieces": 1.4142135623730951,
                "tele_sd_total_points": 1.6,
                "tele_sd_trap": 0.0,
                "tele_speaker_percent_success": 0.8684210526315789,
                "total_amp_percent_success": 0.6923076923076924,
                "total_incap_time": 30,
                "total_speaker_percent_success": 0.8737864077669903,
                "trap_percent_success": 0,
                "auto_avg_amp": 1.4,
                "auto_avg_failed_amp": 2.4,
                "auto_avg_failed_speaker": 0.6,
                "auto_avg_speaker": 4.8,
                "auto_avg_total_failed_pieces": 2.4,
                "auto_avg_total_intakes": 10.4,
                "auto_avg_total_pieces": 1.8,
                "auto_avg_total_points": 26.8,
                "auto_max_amp": 3,
                "auto_max_failed_amp": 4,
                "auto_max_failed_speaker": 2,
                "auto_max_speaker": 7,
                "auto_max_total_failed_pieces": 3,
                "auto_max_total_intakes": 14,
                "auto_max_total_pieces": 3,
                "auto_max_total_points": 6,
                "auto_sd_amp": 1.019803902718557,
                "auto_sd_failed_amp": 1.3564659966250536,
                "auto_sd_failed_speaker": 0.8,
                "auto_sd_speaker": 1.7204650534085253,
                "auto_sd_total_failed_pieces": 0.8,
                "auto_sd_total_intakes": 4.317406628984581,
                "auto_sd_total_pieces": 1.1661903789690602,
                "auto_sd_total_points": 1.1661903789690602,
                "auto_speaker_percent_success": 0.888888888888889,
                "avg_expected_amp_cycle_time": 20.0,
                "avg_expected_amp_cycles": 20.0,
                "avg_expected_amp_notes": 20.0,
                "avg_expected_cycle_time": 30.0,
                "avg_expected_cycles": 20.0,
                "avg_expected_notes": 20.0,
                "avg_expected_speaker_cycle_time": 20.0,
                "avg_expected_speaker_cycles": 20.0,
                "avg_expected_speaker_notes": 30.0,
                "avg_incap_time": 6.0,
                "avg_time_from_amp_to_amp": 2.0,
                "avg_time_from_amp_to_speaker": 2.0,
                "avg_time_from_center_to_amp": 2.0,
                "avg_time_from_center_to_speaker": 2.0,
                "avg_time_from_far_to_amp": 2.0,
                "avg_time_from_far_to_speaker": 2.0,
                "avg_time_from_poach_to_amp": 2.0,
                "avg_time_from_poach_to_speaker": 2.0,
                "avg_total_intakes": 3.0,
                "avg_total_pieces": 5.0,
                "avg_total_points": 78.60000000000001,
                "climb_after_percent_success": 1.0,
                "climb_after_successes": 4,
                "endgame_avg_total_points": 0.4,
                "endgame_max_total_points": 6,
                "endgame_sd_total_points": 2.039607805437114,
                "lfm_auto_amp_percent_success": 0.3684210526315789,
                "lfm_auto_avg_amp": 1.5,
                "lfm_auto_avg_failed_amp": 2.0,
                "lfm_auto_avg_failed_speaker": 0.75,
                "lfm_auto_avg_speaker": 5.5,
                "lfm_auto_avg_total_failed_pieces": 2.25,
                "lfm_auto_avg_total_intakes": 12.5,
                "lfm_auto_avg_total_pieces": 1.5,
                "lfm_auto_avg_total_points": 4.5,
                "lfm_auto_max_amp": 3,
                "lfm_auto_max_failed_amp": 3,
                "lfm_auto_max_failed_speaker": 2,
                "lfm_auto_max_speaker": 7,
                "lfm_auto_max_total_failed_pieces": 3,
                "lfm_auto_max_total_intakes": 14,
                "lfm_auto_max_total_pieces": 3,
                "lfm_auto_max_total_points": 6,
                "lfm_auto_sd_amp": 1.118033988749895,
                "lfm_auto_sd_failed_amp": 1.224744871391589,
                "lfm_auto_sd_failed_speaker": 0.82915619758885,
                "lfm_auto_sd_speaker": 1.118033988749895,
                "lfm_auto_sd_total_failed_pieces": 0.82915619758885,
                "lfm_auto_sd_total_intakes": 1.118033988749895,
                "lfm_auto_sd_total_pieces": 1.118033988749895,
                "lfm_auto_sd_total_points": 1.118033988749895,
                "lfm_auto_speaker_percent_success": 0.888888888888889,
                "lfm_avg_expected_amp_cycle_time": 20.0,
                "lfm_avg_expected_amp_cycles": 20.0,
                "lfm_avg_expected_amp_notes": 20.0,
                "lfm_avg_expected_cycle_time": 30.0,
                "lfm_avg_expected_cycles": 20.0,
                "lfm_avg_expected_notes": 20.0,
                "lfm_avg_expected_speaker_cycle_time": 17.5,
                "lfm_avg_expected_speaker_cycles": 17.5,
                "lfm_avg_expected_speaker_notes": 30.0,
                "lfm_avg_incap_time": 6.5,
                "lfm_avg_tele_trap": 0.0,
                "lfm_avg_time_from_amp_to_amp": 2.5,
                "lfm_avg_time_from_amp_to_speaker": 2.5,
                "lfm_avg_time_from_center_to_amp": 2.5,
                "lfm_avg_time_from_center_to_speaker": 2.5,
                "lfm_avg_time_from_far_to_amp": 2.5,
                "lfm_avg_time_from_far_to_speaker": 2.5,
                "lfm_avg_time_from_poach_to_amp": 2.5,
                "lfm_avg_time_from_poach_to_speaker": 2.5,
                "lfm_avg_total_intakes": 3.5,
                "lfm_avg_total_pieces": 5.5,
                "lfm_avg_total_points": 16.0,
                "lfm_climb_after_percent_success": 1.0,
                "lfm_climb_after_successes": 4,
                "lfm_endgame_avg_total_points": 3.75,
                "lfm_endgame_max_total_points": 6,
                "lfm_endgame_sd_total_points": 2.277608394786075,
                "lfm_matches_climb_after": 4,
                "lfm_matches_harmonized": 4,
                "lfm_matches_incap": 4,
                "lfm_matches_played_defense": 0,
                "lfm_max_expected_amp_cycle_time": 30,
                "lfm_max_expected_amp_cycles": 30,
                "lfm_max_expected_amp_notes": 20,
                "lfm_max_expected_cycle_time": 30,
                "lfm_max_expected_cycles": 20,
                "lfm_max_expected_notes": 20,
                "lfm_max_expected_speaker_cycle_time": 25,
                "lfm_max_expected_speaker_cycles": 25,
                "lfm_max_expected_speaker_notes": 30,
                "lfm_max_incap_time": 8,
                "lfm_max_total_intakes": 5,
                "lfm_max_total_pieces": 7,
                "lfm_max_total_points": 21,
                "lfm_median_nonzero_expected_amp_cycle_time": 20.0,
                "lfm_median_nonzero_expected_amp_cycles": 20.0,
                "lfm_median_nonzero_expected_amp_notes": 20.0,
                "lfm_median_nonzero_expected_cycle_time": 30.0,
                "lfm_median_nonzero_expected_cycles": 20.0,
                "lfm_median_nonzero_expected_notes": 20.0,
                "lfm_median_nonzero_expected_speaker_cycle_time": 17.5,
                "lfm_median_nonzero_expected_speaker_cycles": 17.5,
                "lfm_median_nonzero_expected_speaker_notes": 30.0,
                "lfm_median_nonzero_incap_time": 6.5,
                "lfm_min_expected_amp_cycle_time": 10,
                "lfm_min_expected_cycle_time": 30,
                "lfm_min_expected_speaker_cycle_time": 10,
                "lfm_mode_stage_level_all": ["S"],
                "lfm_mode_stage_level_center": ["S"],
                "lfm_mode_stage_level_left": [],
                "lfm_mode_stage_level_right": [],
                "lfm_mode_start_position": ["2"],
                "lfm_parked_percent": 0.4,
                "lfm_parks": 1,
                "lfm_position_four_starts": 0,
                "lfm_position_one_starts": 0,
                "lfm_position_three_starts": 0,
                "lfm_position_two_starts": 3,
                "lfm_position_zero_starts": 1,
                "lfm_preloaded_starts": 3,
                "lfm_sd_expected_amp_cycle_time": 7.905694150420948,
                "lfm_sd_expected_amp_cycles": 7.905694150420948,
                "lfm_sd_expected_amp_notes": 0.0,
                "lfm_sd_expected_cycle_time": 0.0,
                "lfm_sd_expected_cycles": 0.0,
                "lfm_sd_expected_notes": 0.0,
                "lfm_sd_expected_speaker_cycle_time": 5.5901699437494745,
                "lfm_sd_expected_speaker_cycles": 5.5901699437494745,
                "lfm_sd_expected_speaker_notes": 0.0,
                "lfm_sd_incap_time": 1.118033988749895,
                "lfm_sd_total_points": 3.0,
                "lfm_stage_attempts_all": 4,
                "lfm_stage_attempts_center": 4,
                "lfm_stage_attempts_left": 0,
                "lfm_stage_attempts_right": 0,
                "lfm_stage_fails_all": 0,
                "lfm_stage_fails_center": 0,
                "lfm_stage_fails_left": 0,
                "lfm_stage_fails_right": 0,
                "lfm_stage_percent_success_all": 0.0,
                "lfm_stage_percent_success_center": 0.0,
                "lfm_stage_percent_success_left": 0,
                "lfm_stage_percent_success_right": 0,
                "lfm_stage_successes_all": 0,
                "lfm_stage_successes_center": 0,
                "lfm_stage_successes_left": 0,
                "lfm_stage_successes_right": 0,
                "lfm_tele_amp_percent_success": 1.0,
                "lfm_tele_avg_amp": 4.5,
                "lfm_tele_avg_amplified": 7.5,
                "lfm_tele_avg_drop": 0.0,
                "lfm_tele_avg_failed_trap": 0.0,
                "lfm_tele_avg_failed_amp": 0.0,
                "lfm_tele_avg_failed_amplified": 2.0,
                "lfm_tele_avg_failed_speaker": 0.25,
                "lfm_tele_avg_ferry": 17.5,
                "lfm_tele_avg_intake_amp": 2.5,
                "lfm_tele_avg_intake_center": 2.5,
                "lfm_tele_avg_intake_far": 2.5,
                "lfm_tele_avg_intake_poach": 2.5,
                "lfm_tele_avg_speaker": 6.5,
                "lfm_tele_avg_total_failed_pieces": 1.5,
                "lfm_tele_avg_total_intakes": 4.5,
                "lfm_tele_avg_total_pieces": 3.5,
                "lfm_tele_avg_total_points": 7.5,
                "lfm_tele_avg_trap": 0.0,
                "lfm_tele_max_amp": 6,
                "lfm_tele_max_amplified": 9,
                "lfm_tele_max_drop": 0,
                "lfm_tele_max_failed_amp": 0,
                "lfm_tele_max_failed_amplified": 5,
                "lfm_tele_max_failed_speaker": 1,
                "lfm_tele_max_ferry": 19,
                "lfm_tele_max_intake_amp": 4,
                "lfm_tele_max_intake_center": 4,
                "lfm_tele_max_intake_far": 4,
                "lfm_tele_max_intake_poach": 4,
                "lfm_tele_max_speaker": 8,
                "lfm_tele_max_total_failed_pieces": 2,
                "lfm_tele_max_total_intakes": 6,
                "lfm_tele_max_total_pieces": 5,
                "lfm_tele_max_total_points": 10,
                "lfm_tele_max_trap": 0,
                "lfm_tele_sd_amp": 1.118033988749895,
                "lfm_tele_sd_amplified": 1.118033988749895,
                "lfm_tele_sd_drop": 0.0,
                "lfm_tele_sd_failed_amp": 0.0,
                "lfm_tele_sd_failed_amplified": 1.8708286933869707,
                "lfm_tele_sd_failed_speaker": 0.4330127018922193,
                "lfm_tele_sd_failed_trap": 0.0,
                "lfm_tele_sd_ferry": 1.118033988749895,
                "lfm_tele_sd_intake_amp": 1.118033988749895,
                "lfm_tele_sd_intake_center": 1.118033988749895,
                "lfm_tele_sd_intake_poach": 1.118033988749895,
                "lfm_tele_sd_speaker": 1.118033988749895,
                "lfm_tele_sd_total_failed_pieces": 0.5,
                "lfm_tele_sd_total_intakes": 1.118033988749895,
                "lfm_tele_sd_total_points": 1.6583123951777,
                "lfm_tele_sd_trap": 0.0,
                "lfm_tele_speaker_percent_success": 0.8684210526315789,
                "lfm_total_amp_percent_success": 0.6923076923076924,
                "lfm_total_incap_time": 26,
                "lfm_total_speaker_percent_success": 0.8737864077669903,
                "lfm_trap_percent_success": 0,
                "matches_climb_after": 4,
                "matches_harmonized": 5,
                "matches_incap": 5,
                "matches_played": 5,
                "matches_played_defense": 0,
                "max_expected_amp_cycle_time": 30,
                "max_expected_amp_cycles": 30,
                "max_expected_amp_notes": 20,
                "max_expected_cycle_time": 30,
                "max_expected_cycles": 20,
                "max_expected_notes": 20,
                "max_expected_speaker_cycle_time": 30,
                "max_expected_speaker_cycles": 30,
                "max_expected_speaker_notes": 30,
                "max_incap_time": 8,
                "max_total_intakes": 5,
                "max_total_pieces": 7,
                "max_total_points": 21,
                "median_nonzero_expected_amp_cycle_time": 20,
                "median_nonzero_expected_amp_cycles": 20,
                "median_nonzero_expected_amp_notes": 20,
                "median_nonzero_expected_cycle_time": 30,
                "median_nonzero_expected_cycles": 20,
                "median_nonzero_expected_notes": 20,
                "median_nonzero_expected_speaker_cycle_time": 20,
                "median_nonzero_expected_speaker_cycles": 20,
                "median_nonzero_expected_speaker_notes": 30,
                "median_nonzero_incap_time": 6,
                "min_expected_amp_cycle_time": 10,
                "min_expected_cycle_time": 30,
                "min_expected_speaker_cycle_time": 10,
                "mode_stage_level_all": ["S"],
                "mode_stage_level_center": ["S"],
                "mode_stage_level_left": [],
                "mode_stage_level_right": [],
                "mode_start_position": ["2"],
                "parked_percent": 0.4,
                "parks": 2,
                "position_four_starts": 0,
                "position_one_starts": 1,
                "position_three_starts": 0,
                "position_two_starts": 3,
                "position_zero_starts": 1,
                "preloaded_starts": 4,
                "sd_expected_amp_cycle_time": 7.0710678118654755,
                "sd_expected_amp_cycles": 7.0710678118654755,
                "sd_expected_amp_notes": 0.0,
                "sd_expected_cycle_time": 0.0,
                "sd_expected_cycles": 0.0,
                "sd_expected_notes": 0.0,
                "sd_expected_speaker_cycle_time": 7.0710678118654755,
                "sd_expected_speaker_cycles": 7.0710678118654755,
                "sd_expected_speaker_notes": 0.0,
                "sd_incap_time": 1.4142135623730951,
                "sd_total_points": 2.939387691339814,
                "stage_attempts_all": 5,
                "stage_attempts_center": 5,
                "stage_attempts_left": 0,
                "stage_attempts_right": 0,
                "stage_fails_all": 0,
                "stage_fails_center": 0,
                "stage_fails_left": 0,
                "stage_fails_right": 0,
                "stage_percent_success_all": 0.0,
                "stage_percent_success_center": 0.0,
                "stage_percent_success_left": 0,
                "stage_percent_success_right": 0,
                "stage_successes_all": 0,
                "stage_successes_center": 0,
                "stage_successes_left": 0,
                "stage_successes_right": 0,
                "tele_max_total_speaker_notes": 0,
                "lfm_tele_max_total_speaker_notes": 0,
                "lfm_auto_max_ferry": 0,
                "auto_max_ferry": 0,
                "lfm_matches_with_broken_mechanism": 0,
                "matches_with_broken_mechanism": 0,
                "tele_sd_total_speaker_notes": 0.0,
                "lfm_tele_sd_total_speaker_notes": 0.0,
                "lfm_auto_sd_ferry": 0.0,
                "auto_sd_ferry": 0.0,
                "tele_avg_total_speaker_notes": 0.0,
                "lfm_tele_avg_total_speaker_notes": 0.0,
                "lfm_auto_avg_ferry": 0.0,
                "auto_avg_ferry": 0.0,
            },
            {
                "team_number": "1678",
                "auto_amp_percent_success": 0.3684210526315789,
                "tele_amp_percent_success": 1.0,
                "tele_avg_amp": 4.0,
                "tele_avg_amplified": 7.0,
                "tele_avg_drop": 0.6,
                "tele_avg_failed_trap": 0.0,
                "tele_avg_failed_amp": 0.0,
                "tele_avg_failed_amplified": 1.8,
                "tele_avg_failed_speaker": 0.2,
                "tele_avg_ferry": 17.0,
                "tele_avg_intake_amp": 2.0,
                "tele_avg_intake_center": 2.0,
                "tele_avg_intake_far": 2.0,
                "tele_avg_intake_poach": 2.0,
                "tele_avg_speaker": 6.2,
                "tele_avg_total_failed_pieces": 1.4,
                "tele_avg_total_intakes": 4.0,
                "tele_avg_total_pieces": 3.0,
                "tele_avg_total_points": 51.4,
                "tele_avg_trap": 0.0,
                "tele_max_amp": 6,
                "tele_max_amplified": 9,
                "tele_max_drop": 3,
                "tele_max_failed_amp": 0,
                "tele_max_failed_amplified": 5,
                "tele_max_failed_speaker": 1,
                "tele_max_ferry": 19,
                "tele_max_intake_amp": 4,
                "tele_max_intake_center": 4,
                "tele_max_intake_far": 4,
                "tele_max_intake_poach": 4,
                "tele_max_speaker": 8,
                "tele_max_total_failed_pieces": 2,
                "tele_max_total_intakes": 6,
                "tele_max_total_pieces": 5,
                "tele_max_total_points": 10,
                "tele_max_trap": 0,
                "tele_sd_amp": 1.4142135623730951,
                "tele_sd_amplified": 1.4142135623730951,
                "tele_sd_drop": 1.2,
                "tele_sd_failed_amp": 0.0,
                "tele_sd_failed_amplified": 1.7204650534085253,
                "tele_sd_failed_speaker": 0.4,
                "tele_sd_failed_trap": 0.0,
                "tele_sd_ferry": 1.4142135623730951,
                "tele_sd_intake_amp": 1.4142135623730951,
                "tele_sd_intake_center": 1.4142135623730951,
                "tele_sd_intake_far": 1.4142135623730951,
                "tele_sd_intake_poach": 1.4142135623730951,
                "tele_sd_speaker": 1.1661903789690602,
                "tele_sd_total_failed_pieces": 0.4898979485566356,
                "tele_sd_total_intakes": 1.4142135623730951,
                "tele_sd_total_pieces": 1.4142135623730951,
                "tele_sd_total_points": 1.6,
                "tele_sd_trap": 0.0,
                "tele_speaker_percent_success": 0.8684210526315789,
                "total_amp_percent_success": 0.6923076923076924,
                "total_incap_time": 30,
                "total_speaker_percent_success": 0.8737864077669903,
                "trap_percent_success": 0,
                "auto_avg_amp": 1.4,
                "auto_avg_failed_amp": 2.4,
                "auto_avg_failed_speaker": 0.6,
                "auto_avg_speaker": 4.8,
                "auto_avg_total_failed_pieces": 2.4,
                "auto_avg_total_intakes": 10.4,
                "auto_avg_total_pieces": 1.8,
                "auto_avg_total_points": 26.8,
                "auto_max_amp": 3,
                "auto_max_failed_amp": 4,
                "auto_max_failed_speaker": 2,
                "auto_max_speaker": 7,
                "auto_max_total_failed_pieces": 3,
                "auto_max_total_intakes": 14,
                "auto_max_total_pieces": 3,
                "auto_max_total_points": 6,
                "auto_sd_amp": 1.019803902718557,
                "auto_sd_failed_amp": 1.3564659966250536,
                "auto_sd_failed_speaker": 0.8,
                "auto_sd_speaker": 1.7204650534085253,
                "auto_sd_total_failed_pieces": 0.8,
                "auto_sd_total_intakes": 4.317406628984581,
                "auto_sd_total_pieces": 1.1661903789690602,
                "auto_sd_total_points": 1.1661903789690602,
                "auto_speaker_percent_success": 0.888888888888889,
                "avg_expected_amp_cycle_time": 20.0,
                "avg_expected_amp_cycles": 20.0,
                "avg_expected_amp_notes": 20.0,
                "avg_expected_cycle_time": 30.0,
                "avg_expected_cycles": 20.0,
                "avg_expected_notes": 20.0,
                "avg_expected_speaker_cycle_time": 20.0,
                "avg_expected_speaker_cycles": 20.0,
                "avg_expected_speaker_notes": 30.0,
                "avg_incap_time": 6.0,
                "avg_time_from_amp_to_amp": 2.0,
                "avg_time_from_amp_to_speaker": 2.0,
                "avg_time_from_center_to_amp": 2.0,
                "avg_time_from_center_to_speaker": 2.0,
                "avg_time_from_far_to_amp": 2.0,
                "avg_time_from_far_to_speaker": 2.0,
                "avg_time_from_poach_to_amp": 2.0,
                "avg_time_from_poach_to_speaker": 2.0,
                "avg_total_intakes": 3.0,
                "avg_total_pieces": 5.0,
                "avg_total_points": 78.60000000000001,
                "climb_after_percent_success": 1.0,
                "climb_after_successes": 4,
                "endgame_avg_total_points": 0.4,
                "endgame_max_total_points": 6,
                "endgame_sd_total_points": 2.039607805437114,
                "lfm_auto_amp_percent_success": 0.3684210526315789,
                "lfm_auto_avg_amp": 1.5,
                "lfm_auto_avg_failed_amp": 2.0,
                "lfm_auto_avg_failed_speaker": 0.75,
                "lfm_auto_avg_speaker": 5.5,
                "lfm_auto_avg_total_failed_pieces": 2.25,
                "lfm_auto_avg_total_intakes": 12.5,
                "lfm_auto_avg_total_pieces": 1.5,
                "lfm_auto_avg_total_points": 4.5,
                "lfm_auto_max_amp": 3,
                "lfm_auto_max_failed_amp": 3,
                "lfm_auto_max_failed_speaker": 2,
                "lfm_auto_max_speaker": 7,
                "lfm_auto_max_total_failed_pieces": 3,
                "lfm_auto_max_total_intakes": 14,
                "lfm_auto_max_total_pieces": 3,
                "lfm_auto_max_total_points": 6,
                "lfm_auto_sd_amp": 1.118033988749895,
                "lfm_auto_sd_failed_amp": 1.224744871391589,
                "lfm_auto_sd_failed_speaker": 0.82915619758885,
                "lfm_auto_sd_speaker": 1.118033988749895,
                "lfm_auto_sd_total_failed_pieces": 0.82915619758885,
                "lfm_auto_sd_total_intakes": 1.118033988749895,
                "lfm_auto_sd_total_pieces": 1.118033988749895,
                "lfm_auto_sd_total_points": 1.118033988749895,
                "lfm_auto_speaker_percent_success": 0.888888888888889,
                "lfm_avg_expected_amp_cycle_time": 20.0,
                "lfm_avg_expected_amp_cycles": 20.0,
                "lfm_avg_expected_amp_notes": 20.0,
                "lfm_avg_expected_cycle_time": 30.0,
                "lfm_avg_expected_cycles": 20.0,
                "lfm_avg_expected_notes": 20.0,
                "lfm_avg_expected_speaker_cycle_time": 17.5,
                "lfm_avg_expected_speaker_cycles": 17.5,
                "lfm_avg_expected_speaker_notes": 30.0,
                "lfm_avg_incap_time": 6.5,
                "lfm_avg_tele_trap": 0.0,
                "lfm_avg_time_from_amp_to_amp": 2.5,
                "lfm_avg_time_from_amp_to_speaker": 2.5,
                "lfm_avg_time_from_center_to_amp": 2.5,
                "lfm_avg_time_from_center_to_speaker": 2.5,
                "lfm_avg_time_from_far_to_amp": 2.5,
                "lfm_avg_time_from_far_to_speaker": 2.5,
                "lfm_avg_time_from_poach_to_amp": 2.5,
                "lfm_avg_time_from_poach_to_speaker": 2.5,
                "lfm_avg_total_intakes": 3.5,
                "lfm_avg_total_pieces": 5.5,
                "lfm_avg_total_points": 16.0,
                "lfm_climb_after_percent_success": 1.0,
                "lfm_climb_after_successes": 4,
                "lfm_endgame_avg_total_points": 3.75,
                "lfm_endgame_max_total_points": 6,
                "lfm_endgame_sd_total_points": 2.277608394786075,
                "lfm_matches_climb_after": 4,
                "lfm_matches_harmonized": 4,
                "lfm_matches_incap": 4,
                "lfm_matches_played_defense": 0,
                "lfm_max_expected_amp_cycle_time": 30,
                "lfm_max_expected_amp_cycles": 30,
                "lfm_max_expected_amp_notes": 20,
                "lfm_max_expected_cycle_time": 30,
                "lfm_max_expected_cycles": 20,
                "lfm_max_expected_notes": 20,
                "lfm_max_expected_speaker_cycle_time": 25,
                "lfm_max_expected_speaker_cycles": 25,
                "lfm_max_expected_speaker_notes": 30,
                "lfm_max_incap_time": 8,
                "lfm_max_total_intakes": 5,
                "lfm_max_total_pieces": 7,
                "lfm_max_total_points": 21,
                "lfm_median_nonzero_expected_amp_cycle_time": 20.0,
                "lfm_median_nonzero_expected_amp_cycles": 20.0,
                "lfm_median_nonzero_expected_amp_notes": 20.0,
                "lfm_median_nonzero_expected_cycle_time": 30.0,
                "lfm_median_nonzero_expected_cycles": 20.0,
                "lfm_median_nonzero_expected_notes": 20.0,
                "lfm_median_nonzero_expected_speaker_cycle_time": 17.5,
                "lfm_median_nonzero_expected_speaker_cycles": 17.5,
                "lfm_median_nonzero_expected_speaker_notes": 30.0,
                "lfm_median_nonzero_incap_time": 6.5,
                "lfm_min_expected_amp_cycle_time": 10,
                "lfm_min_expected_cycle_time": 30,
                "lfm_min_expected_speaker_cycle_time": 10,
                "lfm_mode_stage_level_all": ["S"],
                "lfm_mode_stage_level_center": ["S"],
                "lfm_mode_stage_level_left": [],
                "lfm_mode_stage_level_right": [],
                "lfm_mode_start_position": ["2"],
                "lfm_parked_percent": 0.4,
                "lfm_parks": 1,
                "lfm_position_four_starts": 0,
                "lfm_position_one_starts": 0,
                "lfm_position_three_starts": 0,
                "lfm_position_two_starts": 3,
                "lfm_position_zero_starts": 1,
                "lfm_preloaded_starts": 3,
                "lfm_sd_expected_amp_cycle_time": 7.905694150420948,
                "lfm_sd_expected_amp_cycles": 7.905694150420948,
                "lfm_sd_expected_amp_notes": 0.0,
                "lfm_sd_expected_cycle_time": 0.0,
                "lfm_sd_expected_cycles": 0.0,
                "lfm_sd_expected_notes": 0.0,
                "lfm_sd_expected_speaker_cycle_time": 5.5901699437494745,
                "lfm_sd_expected_speaker_cycles": 5.5901699437494745,
                "lfm_sd_expected_speaker_notes": 0.0,
                "lfm_sd_incap_time": 1.118033988749895,
                "lfm_sd_total_points": 3.0,
                "lfm_stage_attempts_all": 4,
                "lfm_stage_attempts_center": 4,
                "lfm_stage_attempts_left": 0,
                "lfm_stage_attempts_right": 0,
                "lfm_stage_fails_all": 0,
                "lfm_stage_fails_center": 0,
                "lfm_stage_fails_left": 0,
                "lfm_stage_fails_right": 0,
                "lfm_stage_percent_success_all": 0.0,
                "lfm_stage_percent_success_center": 0.0,
                "lfm_stage_percent_success_left": 0,
                "lfm_stage_percent_success_right": 0,
                "lfm_stage_successes_all": 0,
                "lfm_stage_successes_center": 0,
                "lfm_stage_successes_left": 0,
                "lfm_stage_successes_right": 0,
                "lfm_tele_amp_percent_success": 1.0,
                "lfm_tele_avg_amp": 4.5,
                "lfm_tele_avg_amplified": 7.5,
                "lfm_tele_avg_drop": 0.0,
                "lfm_tele_avg_failed_trap": 0.0,
                "lfm_tele_avg_failed_amp": 0.0,
                "lfm_tele_avg_failed_amplified": 2.0,
                "lfm_tele_avg_failed_speaker": 0.25,
                "lfm_tele_avg_ferry": 17.5,
                "lfm_tele_avg_intake_amp": 2.5,
                "lfm_tele_avg_intake_center": 2.5,
                "lfm_tele_avg_intake_far": 2.5,
                "lfm_tele_avg_intake_poach": 2.5,
                "lfm_tele_avg_speaker": 6.5,
                "lfm_tele_avg_total_failed_pieces": 1.5,
                "lfm_tele_avg_total_intakes": 4.5,
                "lfm_tele_avg_total_pieces": 3.5,
                "lfm_tele_avg_total_points": 7.5,
                "lfm_tele_avg_trap": 0.0,
                "lfm_tele_max_amp": 6,
                "lfm_tele_max_amplified": 9,
                "lfm_tele_max_drop": 0,
                "lfm_tele_max_failed_amp": 0,
                "lfm_tele_max_failed_amplified": 5,
                "lfm_tele_max_failed_speaker": 1,
                "lfm_tele_max_ferry": 19,
                "lfm_tele_max_intake_amp": 4,
                "lfm_tele_max_intake_center": 4,
                "lfm_tele_max_intake_far": 4,
                "lfm_tele_max_intake_poach": 4,
                "lfm_tele_max_speaker": 8,
                "lfm_tele_max_total_failed_pieces": 2,
                "lfm_tele_max_total_intakes": 6,
                "lfm_tele_max_total_pieces": 5,
                "lfm_tele_max_total_points": 10,
                "lfm_tele_max_trap": 0,
                "lfm_tele_sd_amp": 1.118033988749895,
                "lfm_tele_sd_amplified": 1.118033988749895,
                "lfm_tele_sd_drop": 0.0,
                "lfm_tele_sd_failed_amp": 0.0,
                "lfm_tele_sd_failed_amplified": 1.8708286933869707,
                "lfm_tele_sd_failed_speaker": 0.4330127018922193,
                "lfm_tele_sd_failed_trap": 0.0,
                "lfm_tele_sd_ferry": 1.118033988749895,
                "lfm_tele_sd_intake_amp": 1.118033988749895,
                "lfm_tele_sd_intake_center": 1.118033988749895,
                "lfm_tele_sd_intake_poach": 1.118033988749895,
                "lfm_tele_sd_speaker": 1.118033988749895,
                "lfm_tele_sd_total_failed_pieces": 0.5,
                "lfm_tele_sd_total_intakes": 1.118033988749895,
                "lfm_tele_sd_total_points": 1.6583123951777,
                "lfm_tele_sd_trap": 0.0,
                "lfm_tele_speaker_percent_success": 0.8684210526315789,
                "lfm_total_amp_percent_success": 0.6923076923076924,
                "lfm_total_incap_time": 26,
                "lfm_total_speaker_percent_success": 0.8737864077669903,
                "lfm_trap_percent_success": 0,
                "matches_climb_after": 4,
                "matches_harmonized": 5,
                "matches_incap": 5,
                "matches_played": 5,
                "matches_played_defense": 0,
                "max_expected_amp_cycle_time": 30,
                "max_expected_amp_cycles": 30,
                "max_expected_amp_notes": 20,
                "max_expected_cycle_time": 30,
                "max_expected_cycles": 20,
                "max_expected_notes": 20,
                "max_expected_speaker_cycle_time": 30,
                "max_expected_speaker_cycles": 30,
                "max_expected_speaker_notes": 30,
                "max_incap_time": 8,
                "max_total_intakes": 5,
                "max_total_pieces": 7,
                "max_total_points": 21,
                "median_nonzero_expected_amp_cycle_time": 20,
                "median_nonzero_expected_amp_cycles": 20,
                "median_nonzero_expected_amp_notes": 20,
                "median_nonzero_expected_cycle_time": 30,
                "median_nonzero_expected_cycles": 20,
                "median_nonzero_expected_notes": 20,
                "median_nonzero_expected_speaker_cycle_time": 20,
                "median_nonzero_expected_speaker_cycles": 20,
                "median_nonzero_expected_speaker_notes": 30,
                "median_nonzero_incap_time": 6,
                "min_expected_amp_cycle_time": 10,
                "min_expected_cycle_time": 30,
                "min_expected_speaker_cycle_time": 10,
                "mode_stage_level_all": ["S"],
                "mode_stage_level_center": ["S"],
                "mode_stage_level_left": [],
                "mode_stage_level_right": [],
                "mode_start_position": ["2"],
                "parked_percent": 0.4,
                "parks": 2,
                "position_four_starts": 0,
                "position_one_starts": 1,
                "position_three_starts": 0,
                "position_two_starts": 3,
                "position_zero_starts": 1,
                "preloaded_starts": 4,
                "sd_expected_amp_cycle_time": 7.0710678118654755,
                "sd_expected_amp_cycles": 7.0710678118654755,
                "sd_expected_amp_notes": 0.0,
                "sd_expected_cycle_time": 0.0,
                "sd_expected_cycles": 0.0,
                "sd_expected_notes": 0.0,
                "sd_expected_speaker_cycle_time": 7.0710678118654755,
                "sd_expected_speaker_cycles": 7.0710678118654755,
                "sd_expected_speaker_notes": 0.0,
                "sd_incap_time": 1.4142135623730951,
                "sd_total_points": 2.939387691339814,
                "stage_attempts_all": 5,
                "stage_attempts_center": 5,
                "stage_attempts_left": 0,
                "stage_attempts_right": 0,
                "stage_fails_all": 0,
                "stage_fails_center": 0,
                "stage_fails_left": 0,
                "stage_fails_right": 0,
                "stage_percent_success_all": 0.0,
                "stage_percent_success_center": 0.0,
                "stage_percent_success_left": 0,
                "stage_percent_success_right": 0,
                "stage_successes_all": 0,
                "stage_successes_center": 0,
                "stage_successes_left": 0,
                "stage_successes_right": 0,
                "tele_max_total_speaker_notes": 0,
                "lfm_tele_max_total_speaker_notes": 0,
                "lfm_auto_max_ferry": 0,
                "auto_max_ferry": 0,
                "lfm_matches_with_broken_mechanism": 0,
                "matches_with_broken_mechanism": 0,
                "tele_sd_total_speaker_notes": 0.0,
                "lfm_tele_sd_total_speaker_notes": 0.0,
                "lfm_auto_sd_ferry": 0.0,
                "auto_sd_ferry": 0.0,
                "tele_avg_total_speaker_notes": 0.0,
                "lfm_tele_avg_total_speaker_notes": 0.0,
                "lfm_auto_avg_ferry": 0.0,
                "auto_avg_ferry": 0.0,
            },
        ]
        self.test_server.db.insert_documents("obj_tim", obj_tims)
        self.test_server.db.insert_documents("subj_tim", subj_tims)
        self.test_calc.run()
        result = self.test_server.db.find("obj_team")
        assert len(result) == 2
        for document in result:
            print(document)
            del document["_id"]
            assert dict_near_in(document, expected_results)
            # Removes the matching expected result to protect against duplicates from the calculation
            expected_results.pop(find_dict_near_index(document, expected_results))
